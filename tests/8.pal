{
    8.pal
    Make work!
}
program Library (useless, parameters);

const LIBCAPACITY = 20;
      REVIEWCAPACITY = 10;

type nameStr = array[1..25] of char;
     titleStr = array[1..50] of char;
     review = record
                good : boolean;
                reviewer : nameStr
              end;
     reviewList = array[1..REVIEWCAPACITY] of review;
     book = record
                title : titleStr;
                author : nameStr;
                id : integer;
                reviews : reviewList
            end;

var lib : array[1..LIBCAPACITY] of book;
    currBook : book;
    title : titleStr;
    name : nameStr;
    id, index : integer;
    cmd : char;


    
function invalidCommand(cmd: char) : boolean;
// returns whether command is a valid command indicator ('a', 'r', or 'x')
    begin
        invalidCommand := (cmd <> 'a') and (cmd <> 'r') and (cmd <> 'x');
    end;

function getCommand() : char;
// asks for a command until it reads a valid command character, then it returns
// that character
    var cmd : char;

    begin
        write('(a)dd, (r)ead, or e(x)it)? ');
        readln(cmd);
        
        while invalidCommand(cmd) do 
        begin
            writeln('Invalid library command!');
            write('(a)dd, (r)ead, or e(x)it)? ');
            readln(cmd);
        end;
        
        getCommand := cmd;
    end;

begin
    cmd := 'i';
    index := 1;

    while cmd <> 'x' do
    begin
        cmd := getCommand();
        
        if cmd = 'a' then
            addBook()
        else if cmd = 'r' then
            readBook();

    end;

end.
